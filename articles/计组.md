计组由于内容太多，这里不进行全面整理，只记录一些重点和需要临时记忆的内容。

目录如下：
- [第一章——计算机系统概述](#第一章计算机系统概述)
- [第二章——数据的表示和运算](#第二章数据的表示和运算)
- [第三章——指令系统](#第三章指令系统)
- [第四章——处理器](#第四章处理器)
- [第五章——存储系统](#第五章存储系统)

## 第一章——计算机系统概述

1. 完整的计算机系统应包括配套的硬件设备和软件系统。
2. 冯诺依曼机的基本工作方式是控制流驱动方式。
3. 系列机的基本特点是指令系统向后兼容。向后兼容是指时间上，即新机器兼容使用以前机器的指令系统。
4. 相联存储器既可以按地址寻址，也可以按内容寻址。
5. CPU执行时间=CPU周期数/主频=(指令条数*CPI)/主频
6. FLOPS(Floating-point Operations Per Second)，即每秒执行多少次浮点运算。
7. PC、状态寄存器、通用寄存器对于汇编程序员都是可见的，而IR、MAR、MDR对于任何程序员都是透明的。

## 第二章——数据的表示和运算

1. 任意一个二进制小数都可以用十进制小数精确表示，反之不一定。
2. 定点数的编码表示法有以下4种：原码、反码、补码、移码。
3. 变形补码：采用双符号位的补码表示法，当位数为$n+1$时，变形补码的表示范围为$[-2^{n-1}, 2^{n-1}-1]$。
4. 在**相同字长的有符号和无符号数**之间，C语言的强制类型转换保持位值不变，仅改变了解释这些位的方式。
5. 大字长变量向小字长变量转换时，高位被截断；小字长变量向大字长变量转换时，高位补符号位。
6. 真值是指机器数所表示的数值，而机器数是二进制数在计算机中的表示形式。
7. 原码用机器数的最高位表示符号，其余位表示数值。
8. ALU的标志：CF（进/借位标志）、OF（溢出标志）、SF（符号标志）、ZF（零标志）。
9. 对于无符号数运算，OF位和SF位没有意义。OF位表示有符号数运算结果是否溢出。无符号数运算的溢出通过CF位判断。
10. 每个模4补码存储时只需一个符号位。只在把两个模4补码的数送往ALU完成加减运算时才需要双符号位。
11. （IEEE 754标准中）浮点数的23位尾数之前隐藏了一个1，因此23位尾数实际表示了24位数字。
12. 浮点数对阶时，小阶向大阶看齐，将阶码小的尾数右移，阶码加1，直到两个数的阶码相等。
13. 右规只需进行一次，而左规可能需要多次。
14. 浮点数的溢出是由指数来判断的。判断浮点数运算是否溢出主要看阶码是否上溢。
15. 当int转换成float时，若int的24~31位非零，则无法精确转换成float类型，需要舍入，会损失精度。
16. 大端法：先存储高位，后存储低位。字中的字节顺序和原序列的相同。
17. IEEE标准规定浮点数的尾数用原码表示，但尾数也可以用补码表示。如果用补码，则尾数规格化之后小数点后第一位与符号位不同。
18. 与非规格化的浮点数相比，采用规格化的浮点数主要是为了增加表示精度。
19. 定点数没有舍入的概念。浮点数舍入有两种情况：对阶、右规。舍入不一定产生误差。
20. 右规和尾数舍入都可能导致阶码上溢。

## 第三章——指令系统

1. 指令集体系结构（ISA）主要规定的内容：
- 指令格式，指令寻址方式，操作类型，以及每种操作对应的操作数的相应规定；
- 操作数的类型，操作数的寻址方式，以及是按大端存储还是按小端存储；
- 程序可访问的寄存器编号、个数和位数，存储空间的大小和编址方式；
- 指令执行过程的控制方式，包括程序计数器、条件码定义等。
2. 单字长指令只需访存1次就能取出；而双字长指令需要访存2次才能取出，耗费两个存取周期。因此指令长度的不同会导致取指令的时间开销不同。
3. 一地址指令也可能有两个操作数，其中一个是隐含的，不需要在指令中给出。
4. 对于二地址指令、三地址指令、四地址指令，若地址码字段均为主存地址，则完成一条指令均需要4次访存，即取指令、取操作数1、取操作数2、存结果。
5. 几种数据寻址方式：
- 立即寻址：指令中给出的操作数就是操作数本身。
- 直接寻址：指令中给出的操作数是操作数的地址。
- 间接寻址：指令中给出的操作数是操作数地址的地址。
- 寄存器寻址：指令中给出的操作数是寄存器编号。
- 寄存器间接寻址：指令中给出的操作数是寄存器编号，该寄存器中存放的是操作数的地址。
6. 偏移寻址方式：
- 相对寻址：相对于PC当前值（注意是+“1”后的PC值）的偏移量；
- 基址寻址：相对于基址寄存器当前值的偏移量，基址寄存器是面向操作系统的；
- 变址寻址：相对于变址寄存器当前值的偏移量，变址寄存器是面向用户的。
7. 寄存器堆栈称为硬堆栈，而主存堆栈称为软堆栈。
8. 复杂指令系统（CISC）的特点：
- 指令系统复杂庞大，指令数目一般在200条以上；
- 指令的长度不固定，指令格式多，寻址方式多；
- 可以访存的指令不受限制；
- 各种指令使用频度差异很大；
- 各种指令的执行时间差异很大，大多数指令需要多个时钟周期才能完成；
- 控制器大多采用微程序控制（有些指令非常复杂，以至于无法采用硬连线控制）；
- 难以用优化编译生成高效的目标代码程序。

## 第四章——处理器

1. 中央处理器（CPU）由运算器和控制器组成。
- 运算器中的寄存器：通用寄存器组、累加寄存器、移位寄存器、暂存寄存器、程序状态字寄存器；
- 控制器中的寄存器：程序计数器（PC）、指令寄存器（IR）、存储器地址寄存器（MAR）、存储器数据寄存器（MDR）。
2. 用户可见和不可见的寄存器。
对用户可见：通用寄存器组、程序状态字寄存器、PC、累加寄存器、移位寄存器；
对用户透明：IR、MAR、MDR等。
3. 指令总是根据程序计数器PC从主存储器中读出。
4. 机器指令中不能显式地使用PC，PC的值是自增的或是由转移指令设置的。
5. PC的位数取决于存储器的容量和机器字长。
6. 通用寄存器的位数取决于机器字长。
7. 用户不能直接修改程序状态字寄存器中的内容。
8. 指令译码是对指令的操作码字段进行译码。
9. 一个指令周期通常包括：取值周期、（间址周期）、执行周期、（中断周期）。
- 取指周期的任务是根据PC中的内容从主存中取出指令并存入IR中；
- 间址周期的任务是取操作数的有效地址；
- 执行周期的任务是取操作数，并根据IR中指令的操作码字段通过ALU操作产生执行结果。
10. 数据通路是指数据在指令执行过程中所经过的路径以及路径上的部件，包括组合逻辑元件（操作原件）和时序逻辑元件（状态元件）。异常和中断处理逻辑也是数据通路的一部分。
- 其中的操作原件：ALU、加法器、译码器、多路选择器、三态门等；
- 其中的状态元件：各类寄存器和存储器。
11. 采用CPU内部总线方式的数据通路的特点：结构简单，易于实现，性能较低，存在较多数据冲突。采用专用数据通路方式的数据通路与之相反。
12. 如果CPU采用单总线结构，ALU的一个输入端可以直接与总线相连，另一个输入端需要通过一个暂存器与总线相连，输出端也需要暂存器。注意这里的总线是指CPU内部的总线。
13. 单周期CPU不能使用单总线结构。单总线数据通路将所有寄存器的输入输出端都连接在一条公共通路上，一个时钟周期内只允许一次操作，无法完成指令的所有操作。
14. 区别几种周期：
- 时钟周期：CPU中振荡器发出的时钟脉冲信号周期。一个时钟周期内CPU完成一个最基本的操作。
- 机器周期：CPU从内存中读取一条指令或一个数据字所需的最基本时间单位，是可变的，它通常由若干个时钟周期构成。
- 指令周期：CPU完成一条指令所需要的时间。它通常由若干个机器周期构成。
15. 取指周期、间址周期、执行周期、中断周期，这几个阶段都可能需要多个机器周期。
16. 单周期CPU是指每条指令在一个时钟周期内完成。在讨论单周期CPU时，机器周期和时钟周期和指令周期是等价的。
17. 硬布线控制器的控制单元的输入来自：译码产生的指令信息、机器周期和节拍信号、执行单元的反馈信息。
18. 微程序控制器的设计思想：将每条机器指令编写成一个微程序，每个微程序包含若干条微指令，每条微指令对应一个或几个微操作命令。
19. 在微程序控制的计算机中，控制部件向执行部件发出的各种控制命令称为微命令。在微命令字段中，互斥性微命令分在同一段内，相容性微命令分在不同段内。
20. 控制存储器中的微程序个数等于机器指令数加上公共的微程序个数（取指、间址、中断）。
21. 在微程序控制器中，形成微程序入口地址的是机器指令的操作码字段。
22. 异常（内部异常）的分类：
- 故障：如非法操作码、除零、缺页等；
- 自陷：如系统调用等；
- 终止：如控制器出错、存储器校验错、总线错误等。
> “断点”是指异常或中断处理结束后，返回到被中断的原程序继续执行的指令地址。
> 对于缺页异常，断点是当前发生故障的指令；对于非法操作码和除零，必须终止程序的执行。
> 对于自陷，断点是下一条指令的地址。
> 外部中断的断点是下一条指令的地址。
23. 内部异常的检测是由CPU内部逻辑实现，内部异常不能被屏蔽，一旦出现应当立即处理；内部异常的响应发生在指令执行过程中。

## 第五章——存储系统

1. 存储器按存取方式分为：随机存取存储器（RAM）、只读存储器（ROM）、顺序存取存储器（SAM）、直接存取存储器（DAM）。
> 直接存取存储器既不像RAM那样随机地访问任何一个单元，也不像SAM那样完全按顺序存取，而是介于两者之间。存取信息时通常先寻找整个存储器中的某个小区域（如磁盘上的磁道），再在这个小区域内进行顺序查找。
2. 存取周期 = 存取时间 + (恢复时间)
3. Cache-主存层解决CPU和主存速度不匹配的问题，对所有程序员都是透明的。
主存-辅存层解决存储系统的容量问题，仅对应用程序员是透明的。
4. DRAM的刷新有三种方式：集中刷新、分散刷新、异步刷新。
刷新是以行为单位，通过“假读”的操作实现的。
5. ROM的类型：掩模式只读存储器（MROM）、一次可编程只读存储器（PROM）、可擦除可编程只读存储器（EPROM）、Flash存储器、固态硬盘（SSD）。
6. 多模块存储器是一种空间并行技术，利用多个结构完全相同的存储模块的并行工作来提高存储器的吞吐率。常见的有单体多字存储器和多体低位交叉存储器。
在低位交叉编址方式下，低位地址为模块号，高位地址为模块内地址。
7. 因计算机的操作系统保存在硬盘，所以需要BIOS的引导程序将操作系统引导到主存中。引导程序固化于ROM中。
8. DRAM的地址线增加1根，则容量提高到原来的4倍。因为行地址和列地址都增加了1位。
9. 固态硬盘的擦除以块为单位，而读写以页为单位。
10. Cache中有组，组里有块。n路组相联是指每组有n个块，需要设置n个比较器。
11. CPU和Cache之间的数据交换以字为单位，Cache和主存之间的数据交换以块为单位。
12. 采用指令Cache和数据Cache分离的主要目的是减少指令流水线资源冲突。
13. Cache缺失处理由硬件完成；缺页处理由软件完成；TLB缺失处理既可以由硬件完成，也可以由软件完成。
14. 若TLB命中，则Page一定命中。
15. 快表采用相联存储器件组成，按照查找内容访问，因此查找速度比慢表快。